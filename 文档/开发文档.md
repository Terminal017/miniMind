### 全局开发

1、初始化项目，添加所有依赖和工具，包括：

- dexie.js：IndexedDB 的高层封装库，用于优化 Indexed DB 操作
- shadcn/ui：现代 UI 库
- lucide-react：轻量级 React 图标库
- clsx：动态类名构建库，用于优化 tailwind 原子类拼接
- tailwind-merge：tailwind 相关库，用于 tailwind 原子类合并，配合 clsx 使用

2、使用 Zustand 创建全局状态 store，包括：

- 模型加载状态（WebGPU 支持、模型下载状态、模型下载进度）
- Web Worker 状态（Web Worker 实例、通信代理、初始化函数、清理函数）

3、Web Worker 设计：

- worker 实例和通信代理均放在 Zustand 全局状态中，避免组件重复渲染时可能发生的重复创建带来额外消耗
- 主线程通过存放在 Zustand 中的 Comlink.wrap 调用 Web Worker

### IndexDB 数据库设计

1、数据库 miniMindDB：

- 表 library：存放知识库相关信息
- 表 docs：存放文档信息
- 表 chunks：存放切片信息

2、表 library：

```
id: number //id（主键）
name: string //名称
createdAt: Date //创建日期
files: number //文件数量
chunks: number //切片数量
```

3、表 docs：

```
id: number //id（主键）
libraryId: number //所属知识库 id（外键）
name: string //文档名称
rawText: string //文档解析额后的纯文本内容
size: number //解析后的文件大小，用于展示
status: string //文档状态（切片中、解析中）
createdAt: Date //创建日期
```

4、表 chunks：

```
id: number //id（主键）
docId: number //所属文档 ID（外键）
libraryId: number //所属知识库 ID（外键）
content: string //切片文本内容
embedding: number[] //向量表示
```

### knowledge 页面

1、UI 开发：

- Nav 导航栏组件：使用 shadcn/ui 的 Button 组件和 Next 的 Link
